# FILE 7: server/src/main/resources/application.conf
# Ktor server configuration in HOCON format.
# Values here can be overridden via environment variables at runtime.

ktor {
    deployment {
        port = 8080
        port = ${?PORT}          # Override with PORT env var (e.g. Heroku)
        host = "0.0.0.0"
        connectionGroupSize      = 2
        workerGroupSize          = 5
        callGroupSize            = 10
        shutdownGracePeriod      = 2000
        shutdownTimeout          = 3000
    }
    application {
        modules = [com.menu.server.ApplicationKt.module]
    }
}

# JWT settings â€” override with environment variables in production
jwt {
    secret   = "your-secret-key-replace-in-production"
    secret   = ${?JWT_SECRET}
    audience = "menu-scanner-api"
    issuer   = "menu-scanner"
    realm    = "Menu Scanner API"
}
